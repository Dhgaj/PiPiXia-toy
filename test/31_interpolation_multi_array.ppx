# 测试字符串插值中的多维数组访问

func main(): int {
    print("===== 字符串插值多维数组访问测试 =====")
    print("")
    
    # 测试1: 一维数组访问（基本功能）
    print("测试1: 一维数组访问")
    let arr1: int[5] = [10, 20, 30, 40, 50]
    print("  arr1[0] = ${arr1[0]} (应输出: 10)")
    print("  arr1[2] = ${arr1[2]} (应输出: 30)")
    print("  arr1[4] = ${arr1[4]} (应输出: 50)")
    print("")
    
    # 测试2: 二维数组访问
    print("测试2: 二维数组访问")
    let matrix: int[2][3] = [[1, 2, 3], [4, 5, 6]]
    
    # 使用字符串插值直接访问二维数组
    print("  matrix[0][0] = ${matrix[0][0]} (应输出: 1)")
    print("  matrix[0][2] = ${matrix[0][2]} (应输出: 3)")
    print("  matrix[1][0] = ${matrix[1][0]} (应输出: 4)")
    print("  matrix[1][2] = ${matrix[1][2]} (应输出: 6)")
    print("")
    
    # 测试3: 使用变量作为索引
    print("测试3: 使用变量作为索引")
    let i: int = 1
    let j: int = 2
    print("  i = ${i}, j = ${j}")
    print("  matrix[i][j] = ${matrix[i][j]} (应输出: 6)")
    print("")
    
    # 测试4: 使用表达式作为索引
    print("测试4: 使用表达式作为索引")
    print("  arr1[1 + 1] = ${arr1[1 + 1]} (应输出: 30)")
    print("  matrix[0][1 + 1] = ${matrix[0][1 + 1]} (应输出: 3)")
    print("")
    
    # 测试5: 混合使用
    print("测试5: 混合使用")
    let idx: int = 2
    print("  idx = ${idx}")
    print("  arr1[idx] + matrix[0][idx] = ${arr1[idx] + matrix[0][idx]} (应输出: 33)")
    print("")
    
    print("===== 测试完成 =====")
    return 0
}
